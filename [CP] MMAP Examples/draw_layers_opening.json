{
  "$schema": "https://smapi.io/schemas/content-patcher.json",
  "Changes": [
    {
      "Action": "Load",
      "Target": "{{ModID}}/DOOR",
      "FromFile": "assets/door.png"
    },
    {
      "Action": "EditData",
      "Target": "Data/Furniture",
      "Entries": {
        "{{ModId}}_DOOR": "DOOR-Auto/decor/1 3/1 1/2/250/2/DOOR-Auto/0/{{ModID}}\\DOOR/true",
        "{{ModId}}_DOOR_TOGGLE": "DOOR-Manual/decor/1 3/1 1/2/250/2/DOOR-Manual/0/{{ModID}}\\DOOR/true",
      }
    },
    {
      "Action": "EditData",
      "Target": "mushymato.MMAP/FurnitureProperties",
      "Entries": {
        "{{ModId}}_DOOR": {
          "CollisionMap": "O",
          "DrawShadow": false,
          "AdditionalTilePropertyRadius": 1,
          "DrawLayers": [
            {
              "Id": "{{ModId}}_DOOR_Open_Rotation.0",
              "SourceRect": {
                "X": 0,
                "Y": 0,
                "Width": 16,
                "Height": 48
              },
              "FrameCount": 4,
              "FrameDuration": 90,
            },
            {
              "Id": "{{ModId}}_DOOR_Open_Rotation.2",
              "SourceRect": {
                "X": 0,
                "Y": 0,
                "Width": 16,
                "Height": 48
              },
              "FrameCount": 4,
              "FrameDuration": 90,
            },
          ],
          "Metadata": {
            "mushymato.MMAP/DrawLayer.{{ModId}}_DOOR_Open_Rotation.0.openAnim": "Auto",
            "mushymato.MMAP/DrawLayer.{{ModId}}_DOOR_Open_Rotation.2.openAnim": "Auto",
            "mushymato.MMAP/DrawLayer.{{ModId}}_DOOR_Open_Rotation.2.effect": "FlipHorizontally",
          }
        },
        "{{ModId}}_DOOR_TOGGLE": {
          "CollisionMap": "O",
          "DrawShadow": false,
          "DrawLayers": [
            {
              "Id": "{{ModId}}_DOOR_TOGGLE_Open_Rotation.0",
              "SourceRect": {
                "X": 0,
                "Y": 0,
                "Width": 16,
                "Height": 48
              },
              "FrameCount": 4,
              "FrameDuration": 90,
            },
            {
              "Id": "{{ModId}}_DOOR_TOGGLE_Open_Rotation.2",
              "SourceRect": {
                "X": 0,
                "Y": 0,
                "Width": 16,
                "Height": 48
              },
              "FrameCount": 4,
              "FrameDuration": 90,
            },
          ],
          "TileProperties": [
            {
              "Id": "{{ModId}}_1-toggleDoor",
              "Name": "Action",
              "Value": "mushymato.MMAP_FurnitureDrawLayerToggle {{ModId}}_DOOR_TOGGLE {{ModId}}_DOOR_TOGGLE_Open_",
              "Layer": "Buildings",
              "TileArea": {
                "X": 0,
                "Y": 0,
                "Width": 1,
                "Height": 1
              }
            }
          ],
          "Metadata": {
            "mushymato.MMAP/DrawLayer.{{ModId}}_DOOR_TOGGLE_Open_Rotation.0.openAnim": "Manual",
            "mushymato.MMAP/DrawLayer.{{ModId}}_DOOR_TOGGLE_Open_Rotation.2.openAnim": "Manual",
            "mushymato.MMAP/DrawLayer.{{ModId}}_DOOR_TOGGLE_Open_Rotation.2.effect": "FlipHorizontally",
          }
        },
      }
    }
  ]
}
